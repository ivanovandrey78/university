## 13. Стек на списках  

### Преимущества реализации на списке

- не нужно заранее задавать размер  
- операции выполняются за **O(1)**  
- не требуется перемещать элементы при вставке или удалении

### Реализация стека на односвязном списке

```cpp
#include <iostream>

struct Node {
    int value;
    Node* next;
    Node(int val) {
        value = val;
        next = nullptr;
    }
};

class Stack {
private:
    Node* top_node;  // вершина стека
    int count;

public:
    Stack() {
        top_node = nullptr;
        count = 0;
    }

    ~Stack() {
        while (top_node) {
            pop();
        }
    }

    void push(int x) {
        Node* node = new Node(x);
        node->next = top_node;
        top_node = node;
        count++;
    }

    void pop() {
        if (!top_node) return;
        Node* temp = top_node;
        top_node = top_node->next;
        delete temp;
        count--;
    }

    int top() {
        if (!top_node) {
            std::cout << "Stack is empty\n";
            return -1;
        }
        return top_node->value;
    }

    bool empty() {
        return top_node == nullptr;
    }

    int size() {
        return count;
    }
};
```


### Асимптотический анализ

|Операция|Время|Память|
|---|---|---|
|`push()`|O(1)|O(1)|
|`pop()`|O(1)|O(1)|
|`top()`|O(1)|O(1)|
|`empty()` / `size()`|O(1)|O(1)|

### Применение

| Область                   | Пример                            |
| ------------------------- | --------------------------------- |
| Рекурсия                  | хранение контекста вызовов        |
| Обратная запись выражений | вычисление постфиксных выражений  |
| Парсинг                   | проверка скобок, разбор выражений |
| Алгоритмы на графах       | DFS (поиск в глубину)             |
| Отмена операций           | undo/redo в текстовых редакторах  |
