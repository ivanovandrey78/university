
# **НВП (наибольшая возрастающая подпоследовательность)**

- Дана последовательность чисел. Нужно найти **максимальную длину возрастающей подпоследовательности**
    

**Подзадача:**

```
dp[i] = длина НВП, заканчивающейся на a[i]
```

**Рекуррентная формула:**

```
dp[i] = 1 + max(dp[j]) for all j < i and a[j] < a[i]
```

**Пример:**

```
a = [3, 10, 2, 1, 20]

dp[0] = 1
dp[1] = 1 + max(dp[0]=1) = 2
dp[2] = 1
dp[3] = 1
dp[4] = 1 + max(dp[0]=1, dp[1]=2, dp[2]=1, dp[3]=1) = 3
```

**Ответ:** длина НВП = 3 → [3,10,20]

---
# ** НВП - визуализация**

**Условие:**

- Последовательность: a = [3, 10, 2, 1, 20]
    
- Нужно найти длину НВП
    

**dp[i] = длина НВП, заканчивающейся на a[i]**

**Инициализация:** dp[i]=1 (каждое число само по себе = подпоследовательность длиной 1)

**Шаги:**

1. i = 0 → dp[0] = 1
    
2. i = 1 → a[1]=10, проверяем j=0 (3<10) → dp[1]=dp[0]+1=2
    
3. i = 2 → a[2]=2, j=0,1 → 3>2,10>2 → dp[2]=1
    
4. i = 3 → a[3]=1, j=0..2 → все >1 → dp[3]=1
    
5. i = 4 → a[4]=20, j=0..3
    
    - j=0: 3<20 → candidate=dp[0]+1=2
        
    - j=1: 10<20 → candidate=dp[1]+1=3
        
    - j=2: 2<20 → candidate=dp[2]+1=2
        
    - j=3: 1<20 → candidate=dp[3]+1=2  
        → dp[4]=max(2,3,2,2)=3
        

**dp массив:** `[1, 2, 1, 1, 3]`

**Ответ:** длина НВП = 3 (например, [3,10,20])

---

# **Визуальная шпаргалка по ДП**

| Задача   | Подзадача                | Рекуррентная формула                | Пример dp   | Сложность |
| -------- | ------------------------ | ----------------------------------- | ----------- | --------- |
| НВП      | dp[i] = длина НВП до i   | dp[i]=1+max(dp[j], j<i, a[j]<a[i])  | [1,2,1,1,3] | O(n^2)    |
