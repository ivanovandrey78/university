# **1Ô∏è‚É£ –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è –±–∏—Ç–æ–≤—ã—Ö –º–∞—Å–æ–∫**

### **–ß—Ç–æ —Ç–∞–∫–æ–µ –±–∏—Ç–æ–≤–∞—è –º–∞—Å–∫–∞?**

- –≠—Ç–æ **—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ**, –≥–¥–µ –∫–∞–∂–¥—ã–π **–±–∏—Ç** –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ **–Ω–∞–ª–∏—á–∏–µ/–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞** –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ.
    
- –û—á–µ–Ω—å —É–¥–æ–±–Ω–æ –¥–ª—è –∑–∞–¥–∞—á —Å –Ω–µ–±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–æ–±—ã—á–Ω–æ n ‚â§ 20).
    

**–ü—Ä–∏–º–µ—Ä:** –º–Ω–æ–∂–µ—Å—Ç–≤–æ {0,1,2}

|–ú–Ω–æ–∂–µ—Å—Ç–≤–æ|–ë–∏—Ç–æ–≤–∞—è –º–∞—Å–∫–∞|–î–≤–æ–∏—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ|
|---|---|---|
|{}|0|000|
|{0}|1|001|
|{1}|2|010|
|{0,1}|3|011|
|{2}|4|100|
|{0,2}|5|101|
|{1,2}|6|110|
|{0,1,2}|7|111|

**–û–ø–µ—Ä–∞—Ü–∏–∏ —Å –±–∏—Ç–∞–º–∏:**

- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ —ç–ª–µ–º–µ–Ω—Ç i:
    

```cpp
if (mask & (1 << i)) { /* —ç–ª–µ–º–µ–Ω—Ç –µ—Å—Ç—å */ }
```

- –î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç i:
    

```cpp
mask |= (1 << i);
```

- –£–¥–∞–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç i:
    

```cpp
mask &= ~(1 << i);
```

- –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç i:
    

```cpp
mask ^= (1 << i);
```

---

# **2Ô∏è‚É£ –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ –≤ –î–ü**

- –ö–æ–≥–¥–∞ –∑–∞–¥–∞—á–∞ —Å–≤—è–∑–∞–Ω–∞ —Å **–º–Ω–æ–∂–µ—Å—Ç–≤–∞–º–∏** –∏–ª–∏ **–ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞–º–∏**, –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å **dp[mask]** = –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —ç—Ç–æ–≥–æ –Ω–∞–±–æ—Ä–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤.
    
- –ù–∞–ø—Ä–∏–º–µ—Ä: **–ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞**, **–∫–æ–º–º–∏–≤–æ—è–∂–µ—Ä**, **—Å—á—ë—Ç —Å–ø–æ—Å–æ–±–æ–≤ –≤—ã–±–æ—Ä–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤**.
    

**–ü—Ä–∏–º–µ—Ä:** –µ—Å—Ç—å –º–∞—Å—Å–∏–≤ `[3,1,2]`, –Ω–∞–π—Ç–∏ —Å—É–º–º—É —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∫–∞–∂–¥–æ–≥–æ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞

```cpp
int a[] = {3,1,2};
int n = 3;

for (int mask = 0; mask < (1<<n); mask++) {
    int sum = 0;
    for (int i = 0; i < n; i++) {
        if (mask & (1<<i)) sum += a[i];
    }
    cout << "mask=" << mask << " sum=" << sum << endl;
}
```

–í—ã–≤–æ–¥:

```
mask=0 sum=0      -> {}
mask=1 sum=3      -> {3}
mask=2 sum=1      -> {1}
mask=3 sum=4      -> {3,1}
mask=4 sum=2      -> {2}
mask=5 sum=5      -> {3,2}
mask=6 sum=3      -> {1,2}
mask=7 sum=6      -> {3,1,2}
```

‚úÖ –í–∏–¥–Ω–æ, —á—Ç–æ **–∫–∞–∂–¥–∞—è –º–∞—Å–∫–∞ = –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ**

---

# **3Ô∏è‚É£ –ó–∞–¥–∞—á–∏ ‚Äú–ø–æ –ø—Ä–æ—Ñ–∏–ª—é‚Äù –Ω–∞ —Å–µ—Ç–∫–∞—Ö**

- –ß–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –¥–ª—è **DP –Ω–∞ —Å–µ—Ç–∫–µ/–º–∞—Ç—Ä–∏—Ü–µ**
    
- **–ò–¥–µ—è:** —Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å —Å—Ç—Ä–æ–∫–∏ –≤ –≤–∏–¥–µ **–º–∞—Å–∫–∏**, –≥–¥–µ –∫–∞–∂–¥—ã–π –±–∏—Ç = –∫–ª–µ—Ç–∫–∞
    
- dp[row][mask] = —á–∏—Å–ª–æ —Å–ø–æ—Å–æ–±–æ–≤ / –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å / –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å –¥–ª—è —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–∏ —Å —ç—Ç–∏–º –ø—Ä–æ—Ñ–∏–ª–µ–º
    

**–ü—Ä–∏–º–µ—Ä: –∑–∞–¥–∞—á–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã 2x3 –ø–ª–∏—Ç–∫–∞–º–∏ 1x2**

```
[ ][ ][ ]   row=0
[ ][ ][ ]   row=1
```

- **mask = 0b000** ‚Üí –≤—Å–µ –∫–ª–µ—Ç–∫–∏ –ø—É—Å—Ç—ã
    
- **mask = 0b101** ‚Üí –ø–µ—Ä–≤–∞—è –∏ —Ç—Ä–µ—Ç—å—è –∫–ª–µ—Ç–∫–∏ –∑–∞–Ω—è—Ç—ã
    
- –ü–µ—Ä–µ—Ö–æ–¥ dp[row][mask] ‚Üí dp[row+1][new_mask] –¥–æ–±–∞–≤–ª—è—è –ø–ª–∏—Ç–∫—É
    

**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** O(N * 2^W), –≥–¥–µ W = —à–∏—Ä–∏–Ω–∞ —Å—Ç—Ä–æ–∫–∏

---

# **4Ô∏è‚É£ –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã DP —Å –±–∏—Ç–æ–≤—ã–º–∏ –º–∞—Å–∫–∞–º–∏**

1. **–û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** mask ‚Üí —Ç–µ–∫—É—â–µ–µ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ / –ø—Ä–æ—Ñ–∏–ª—å —Å—Ç—Ä–æ–∫–∏
    
2. **–†–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞:** dp[mask] = min/max/sum(dp[prev_mask] + cost)
    
3. **–ë–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π:** mask = 0 ‚Üí –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    
4. **–ü–µ—Ä–µ–±–æ—Ä –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤:** –º–æ–∂–Ω–æ –ø–µ—Ä–µ–±–∏—Ä–∞—Ç—å –≤—Å–µ –º–∞—Å–∫–∏ –æ—Ç 0 –¥–æ 2^n - 1
    

**–ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ—Ö–æ–¥–∞ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤:**

```
–¢–µ–∫—É—â–µ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ: mask = 0b011 = {0,1}
–ü–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞: 0b000, 0b001, 0b010, 0b011
```

- –ò–Ω–æ–≥–¥–∞ —É–¥–æ–±–Ω–æ **–ø–µ—Ä–µ–±–∏—Ä–∞—Ç—å –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞ –º–∞—Å–∫–∏**:
    

```cpp
int sub = mask;
do {
    // dp[sub]...
    sub = (sub-1) & mask;
} while (sub != mask);
```

‚úÖ –ü–µ—Ä–µ–±–æ—Ä –≤—Å–µ—Ö –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤ –º–∞—Å–∫–∏ –±–µ–∑ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

---

# **5Ô∏è‚É£ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: –∫–æ–º–º–∏–≤–æ—è–∂–µ—Ä —á–µ—Ä–µ–∑ –±–∏—Ç–æ–≤—ã–µ –º–∞—Å–∫–∏**

- n –≥–æ—Ä–æ–¥–æ–≤ ‚â§ 20
    
- dist[i][j] = —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç –≥–æ—Ä–æ–¥–∞ i –¥–æ j
    
- dp[mask][i] = –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –º–∞—Ä—à—Ä—É—Ç–∞, –ø–æ—Å–µ—â–∞—è –≥–æ—Ä–æ–¥–∞ mask –∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞—è –≤ –≥–æ—Ä–æ–¥–µ i
    

```cpp
int n; 
int dist[20][20];
int dp[1<<20][20];
const int INF = 1e9;

for(int mask=0; mask<(1<<n); mask++)
    for(int i=0; i<n; i++)
        dp[mask][i] = INF;

dp[1][0] = 0; // —Å—Ç–∞—Ä—Ç—É–µ–º –≤ –≥–æ—Ä–æ–¥–µ 0

for(int mask=1; mask<(1<<n); mask++){
    for(int u=0; u<n; u++){
        if (!(mask & (1<<u))) continue;
        for(int v=0; v<n; v++){
            if(mask & (1<<v)) continue;
            dp[mask | (1<<v)][v] = min(dp[mask | (1<<v)][v], dp[mask][u] + dist[u][v]);
        }
    }
}

// –û—Ç–≤–µ—Ç = min(dp[(1<<n)-1][i] + dist[i][0])
```

- **–ò–¥–µ—è:**
    
    - mask ‚Üí –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–æ—Å–µ—â—ë–Ω–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤
        
    - i ‚Üí –ø–æ—Å–ª–µ–¥–Ω–∏–π –≥–æ—Ä–æ–¥ –≤ –ø—É—Ç–∏
        
    - dp[mask][i] ‚Üí –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –º–∞—Ä—à—Ä—É—Ç–∞ —Å —ç—Ç–∏–º –Ω–∞–±–æ—Ä–æ–º
        

---
# 6Ô∏è‚É£ –ó–∞–¥–∞—á–∫–∞ –ø—Ä–æ –¥–æ–º–∏–Ω–æ
## **–£—Å–ª–æ–≤–∏–µ –∑–∞–¥–∞—á–∏**

- –°–µ—Ç–∫–∞: 2x3
    

```
[ ][ ][ ]
[ ][ ][ ]
```

- –ù—É–∂–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å **–≤—Å—é —Å–µ—Ç–∫—É –¥–æ–º–∏–Ω–æ—à–∫–∞–º–∏ 1x2**
    
- –î–æ–º–∏–Ω–æ—à–∫–∏ –º–æ–∂–Ω–æ —Å—Ç–∞–≤–∏—Ç—å **–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ –∏–ª–∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ**
    
- –í–æ–ø—Ä–æ—Å: **—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤** –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Å–µ—Ç–∫—É –ø–æ–ª–Ω–æ—Å—Ç—å—é
    
- **–ò–¥–µ—è:** DP —Å –º–∞—Å–∫–æ–π —Å—Ç—Ä–æ–∫–∏.
    
    - –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ = –±–∏—Ç–æ–≤–∞—è –º–∞—Å–∫–∞ ‚Üí 1 = –∑–∞–Ω—è—Ç–æ, 0 = –ø—É—Å—Ç–æ
        
    - dp[row][mask] = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ø–æ—Å–æ–±–æ–≤ –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Å—Ç—Ä–æ–∫–∏ –¥–æ `row` —Ç–∞–∫, —á—Ç–æ —Ç–µ–∫—É—â–∞—è —Å—Ç—Ä–æ–∫–∞ = mask
        

---

## **–®–∞–≥ 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**

- –í—ã—Å–æ—Ç–∞ H = 2, —à–∏—Ä–∏–Ω–∞ W = 3
    
- –ú–∞—Å–∫–∏ –¥–ª—è –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏: 0..7 (3 –±–∏—Ç–∞)
    

```
mask 0b000 = –≤—Å–µ –∫–ª–µ—Ç–∫–∏ –ø—É—Å—Ç—ã
mask 0b001 = –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω—è—è –∫–ª–µ—Ç–∫–∞
mask 0b010 = –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ —Å—Ä–µ–¥–Ω—è—è –∫–ª–µ—Ç–∫–∞
...
mask 0b111 = –≤—Å–µ –∫–ª–µ—Ç–∫–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
```

- –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
    

```
dp[0][0] = 1  // –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–æ row=0
```

---

## **–®–∞–≥ 2: –ü–µ—Ä–µ—Ö–æ–¥—ã**

–î–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏ `r` –∏ –∫–∞–∂–¥–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–∞—Å–∫–∏ `mask`:

1. **–ï—Å–ª–∏ –∫–ª–µ—Ç–∫–∞ –ø—É—Å—Ç–∞—è (–±–∏—Ç=0)** ‚Üí –º–æ–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å:
    
    - **–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ**, –µ—Å–ª–∏ –µ—Å—Ç—å —Å–æ—Å–µ–¥ —Å–ø—Ä–∞–≤–∞ —Å–≤–æ–±–æ–¥–Ω—ã–π
        
    - **–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ**, –µ—Å–ª–∏ –∫–ª–µ—Ç–∫–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä–æ–∫–µ —Å–≤–æ–±–æ–¥–Ω–∞
        
2. **–ï—Å–ª–∏ –∫–ª–µ—Ç–∫–∞ –∑–∞–Ω—è—Ç–∞ (–±–∏—Ç=1)** ‚Üí –ø—Ä–æ–ø—É—Å–∫–∞–µ–º
    

**–ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–±–æ—Ä–∞ –º–∞—Å–æ–∫ –¥–ª—è –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–∏:**

- `mask = 0b000` (–≤—Å–µ –ø—É—Å—Ç—ã)
    
    - –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ:
        
        - –∫–ª–µ—Ç–∫–∏ 0 –∏ 1 ‚Üí –Ω–æ–≤–∞—è –º–∞—Å–∫–∞ = 0b011
            
        - –∫–ª–µ—Ç–∫–∏ 1 –∏ 2 ‚Üí –Ω–æ–≤–∞—è –º–∞—Å–∫–∞ = 0b110
            
    - –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ:
        
        - –∫–ª–µ—Ç–∫–∏ 0 –∏ 0 –Ω–∏–∂–Ω–µ–≥–æ —Ä—è–¥–∞ ‚Üí –Ω–∏–∂–Ω—è—è —Å—Ç—Ä–æ–∫–∞ –º–∞—Å–∫–∞ = 0b001
            
        - –∫–ª–µ—Ç–∫–∏ 1 –∏ 1 –Ω–∏–∂–Ω–µ–≥–æ —Ä—è–¥–∞ ‚Üí –Ω–∏–∂–Ω—è—è —Å—Ç—Ä–æ–∫–∞ –º–∞—Å–∫–∞ = 0b010
            
        - –∫–ª–µ—Ç–∫–∏ 2 –∏ 2 –Ω–∏–∂–Ω–µ–≥–æ —Ä—è–¥–∞ ‚Üí –Ω–∏–∂–Ω—è—è —Å—Ç—Ä–æ–∫–∞ –º–∞—Å–∫–∞ = 0b100
            
- `mask = 0b001` (–ø–æ—Å–ª–µ–¥–Ω—è—è –∫–ª–µ—Ç–∫–∞ –∑–∞–Ω—è—Ç–∞) ‚Üí —Ç–æ–ª—å–∫–æ —Å–≤–æ–±–æ–¥–Ω—ã–µ –∫–ª–µ—Ç–∫–∏ 0 –∏ 1 –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
    

---

## **–®–∞–≥ 3: DP —Ç–∞–±–ª–∏—Ü–∞ (–ø–æ—à–∞–≥–æ–≤–æ)**

–û–±–æ–∑–Ω–∞—á–∏–º:

```
dp[row][mask] = —á–∏—Å–ª–æ —Å–ø–æ—Å–æ–±–æ–≤ –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Ä—è–¥—ã –¥–æ row —Å —Ç–µ–∫—É—â–µ–π –º–∞—Å–∫–æ–π
```

**row = 0, mask = 0b000 ‚Üí dp[0][0] = 1**

**–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ row = 1:**

1. –†–∞–∑–±–∏—Ä–∞–µ–º mask = 0b000
    
    - –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ:
        
        - –∫–ª–µ—Ç–∫–∏ 0+1 ‚Üí –Ω–∏–∂–Ω—è—è —Å—Ç—Ä–æ–∫–∞ 0b000 (–æ—Å—Ç–∞–µ—Ç—Å—è 0b000)
            
        - –∫–ª–µ—Ç–∫–∏ 1+2 ‚Üí –Ω–∏–∂–Ω—è—è —Å—Ç—Ä–æ–∫–∞ 0b000 (–æ—Å—Ç–∞–µ—Ç—Å—è 0b000)
            
    - –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ:
        
        - –∫–ª–µ—Ç–∫–∞ 0 ‚Üí –Ω–∏–∂–Ω—è—è —Å—Ç—Ä–æ–∫–∞ 0b001
            
        - –∫–ª–µ—Ç–∫–∞ 1 ‚Üí –Ω–∏–∂–Ω—è—è —Å—Ç—Ä–æ–∫–∞ 0b010
            
        - –∫–ª–µ—Ç–∫–∞ 2 ‚Üí –Ω–∏–∂–Ω—è—è —Å—Ç—Ä–æ–∫–∞ 0b100
            

**dp[1][0b000] = 2** (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏)  
**dp[1][0b001] = 1**, **dp[1][0b010] = 1**, **dp[1][0b100] = 1**

2. –†–∞–∑–±–∏—Ä–∞–µ–º mask = 0b001 –∏ —Ç.–¥.
    

> ‚úÖ –ó–∞–º–µ—Ç—å, —á—Ç–æ –¥–ª—è –∫–∞–∂–¥–æ–π –º–∞—Å–∫–∏ –º—ã **–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤—Å–µ –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –Ω–æ–≤—ã–µ –º–∞—Å–∫–∏ –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä–æ–∫–∏**, –¥–æ–±–∞–≤–ª—è—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –¥–æ–º–∏–Ω–æ—à–∫–∏

---

## **–®–∞–≥ 4: –ò—Ç–æ–≥**

- –ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫ `dp[H][0b000]` = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ø–æ—Å–æ–±–æ–≤ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –≤—Å—é —Å–µ—Ç–∫—É –ø–æ–ª–Ω–æ—Å—Ç—å—é
    
    - –ü–æ—á–µ–º—É mask = 0b000?
        
        - –ü–æ—Ç–æ–º—É —á—Ç–æ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å—Ç—Ä–æ–∫–µ –≤—Å–µ –∫–ª–µ—Ç–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **–∑–∞–Ω—è—Ç—ã**, –∏ mask=0b000 –≤ DP –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É —Å–≤–µ—Ä—Ö—É ‚Üí –∑–Ω–∞—á–∏—Ç, –º—ã –∑–∞–ø–æ–ª–Ω–∏–ª–∏ –≤—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é
            
- –î–ª—è 2x3 —Å–µ—Ç–∫–∏ **–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ø–æ—Å–æ–±–æ–≤ = 3**
    

---

## **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤**

1. –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ-–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ-–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ:
    

```
[1][ ][ ]
[1][ ][ ]
[ ][1][ ]
[ ][1][ ]
[ ][ ][1]
[ ][ ][1]
```

2. –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ-–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ-–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ:
    

```
[1][1][ ]
[ ][ ][1]
[ ][ ][1]
```

3. –ï—â–µ –æ–¥–Ω–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ-–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ-–≥... –∏ —Ç.–¥.
    

> –î–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —Å–µ—Ç–æ–∫ –ª–µ–≥–∫–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å ‚Äú–Ω–∞ –ø–∞–ª—å—Ü–∞—Ö‚Äù, –¥–ª—è –±–æ–ª—å—à–∏—Ö ‚Äî —Ç–æ–ª—å–∫–æ DP —Å –º–∞—Å–∫–æ–π

---

## **–®–∞–≥ 5: –°—É—Ç—å –∏ —Å–º—ã—Å–ª**

1. **–ú–∞—Å–∫–∞ —Å—Ç—Ä–æ–∫–∏** = –ø—Ä–æ—Ñ–∏–ª—å —Å—Ç—Ä–æ–∫–∏ ‚Üí –∫–æ–º–ø–∞–∫—Ç–Ω–æ —Ö—Ä–∞–Ω–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    
2. **DP[row][mask]** = –≤—Å–µ –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–æ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–∏
    
3. **–ü–µ—Ä–µ—Ö–æ–¥** = —Å—Ç–∞–≤–∏–º –ø–ª–∏—Ç–∫—É –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ –∏–ª–∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ, —Ñ–æ—Ä–º–∏—Ä—É–µ–º –Ω–æ–≤—É—é –º–∞—Å–∫—É
    
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç** = dp[H][0b000]
    

---

üí° **–í—ã–≤–æ–¥:**

- **–ü—Ä–æ—Ñ–∏–ª—å —Å—Ç—Ä–æ–∫–∏ + –±–∏—Ç–æ–≤–∞—è –º–∞—Å–∫–∞** ‚Üí —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± —Ä–µ—à–∞—Ç—å –∑–∞–¥–∞—á–∏ –Ω–∞ —Å–µ—Ç–∫–µ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
    
- –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å –Ω–∞ –ª—é–±—ã–µ –∑–∞–¥–∞—á–∏, –≥–¥–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –∏–ª–∏ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞ –Ω—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–º–ø–∞–∫—Ç–Ω–æ
    
- –° –º–∞–ª–µ–Ω—å–∫–æ–π —à–∏—Ä–∏–Ω–æ–π W ‚Üí O(H*2^W) ‚Üí —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –¥–∞–∂–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö H
    

---
# **7Ô∏è‚É£ –ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è**

1. **–†–∞–∑–º–µ—Ä dp –º–∞—Å—Å–∏–≤–∞:**
    
    - –î–ª—è n=20 ‚Üí 2^20 ‚âà 1e6, –º–∞—Å—Å–∏–≤ dp[2^n] –≤–æ–∑–º–æ–∂–µ–Ω
        
    - –î–ª—è n > 25 ‚Üí –±–∏—Ç–æ–≤—ã–µ –º–∞—Å–∫–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–º–∏
        
2. **–û–±—Ö–æ–¥ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤:**
    
    - –ü–µ—Ä–µ–±–∏—Ä–∞—Ç—å –º–∞—Å–∫–∏ –∏–ª–∏ –ø–æ–¥–º–∞—Å–∫–∏ –Ω—É–∂–Ω–æ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ, —á—Ç–æ–±—ã –Ω–µ —Å—á–∏—Ç–∞—Ç—å –ª–∏—à–Ω–µ–µ
        
3. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è dp:**
    
    - –ë–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π = –ø—É—Å—Ç–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ (mask=0) –∏–ª–∏ —Å—Ç–∞—Ä—Ç–æ–≤–∞—è —Ç–æ—á–∫–∞ –∑–∞–¥–∞—á–∏
        
4. **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:**
    
    - –ü–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞: –∫–æ–º–º–∏–≤–æ—è–∂–µ—Ä, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤
        
    - –°–µ—Ç–∫–∏: –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–ª–∏—Ç–∫–∞–º–∏, –∑–∞–¥–∞—á–∏ –ø—Ä–æ DP —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ –Ω–∞ —Å–æ—Å–µ–¥–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã
        

---

üí° **–ö–ª—é—á–µ–≤–∞—è –º—ã—Å–ª—å:**

> **–ë–∏—Ç–æ–≤–∞—è –º–∞—Å–∫–∞ = –∫–æ–º–ø–∞–∫—Ç–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ / —Å–æ—Å—Ç–æ—è–Ω–∏—è. DP –Ω–∞ –º–∞—Å–∫–∞—Ö = –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± —Ä–µ—à–∞—Ç—å –∑–∞–¥–∞—á–∏ –Ω–∞ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞—Ö –∏ –ø—Ä–æ—Ñ–∏–ª—è—Ö.**

---
